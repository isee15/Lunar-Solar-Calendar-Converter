<script language=javascript>
function hebin(){
 var i,s=aa.innerText,c;
 var s2='',s3='';
 s=s.split('\r\n');
 for(i=0;i<s.length;i++){
   c=s[i];
   if(!c) continue;
   if(c.substr(0,1)=='[') {
     if(s2) s3+=' "'+s2+'",\r\n';
     s2=c.substr(1,c.indexOf(']')-1);
     continue;
   }
   c=c.split(',');

   var f=c[1].substr(0,1);
   c[1]=(c[1].substr(1,2)-0)+(c[1].substr(3,2)-0)/60;
   if(f=='-') c[1]=-c[1];

   var v=c[2];
   if(v){
     if(v.length!=11) alert(c[0]);
     c[2]= v.substr(0,2) + (v.charCodeAt(2)-96) + v.substr(3,1) + String.fromCharCode(v.charCodeAt(4) -48+97)
         + v.substr(6,2) + (v.charCodeAt(8)-96) + v.substr(9,1) + String.fromCharCode(v.charCodeAt(10)-48+97);
   }

   s2 += (s2?',':'')+c[0]+','+c[1]+'#'+c[2]+'#'+c[3];
 }
 s3+=' "'+s2+'"\r\n';
 bb.innerText=s3;
}

</script>
<input type=button onclick="hebin()" value='确定'><br>
<textarea id=aa cols=80 rows=15>
[亚洲]
中国,+0800,,北京、乌鲁木齐、台北、港澳,
阿富汗,+0430,,喀布尔,
阿联酋,+0400,,阿布扎比,
阿曼,+0400,,马斯喀特,
阿塞拜疆,+0400,,巴库,
巴基斯坦,+0500,,卡拉奇、伊斯兰堡,
巴勒斯坦,+0200,04a53|09a53,耶路撒冷、加沙、杰里科,
巴林,+0300,,麦纳麦,
不丹,+0600,,廷布,
朝鲜,+0900,,平壤,
东帝汶,+0800,,帝力,
俄罗斯东五区,+0500,03e03|10e03,鄂木斯克,
俄罗斯东八区,+0800,03e03|10e03,雅库茨克,
俄罗斯东九区,+0900,03e03|10e03,海参崴,
俄罗斯东六区,+0600,03e03|10e03,新西伯利亚,
俄罗斯东七区,+0700,03e03|10e03,伊尔库茨克,
俄罗斯东十区,+1000,03e03|10e03,马加丹,
俄罗斯东十一区,+1100,03e03|10e03,阿纳德尔,
菲律宾,+0800,04a53|10a53,马尼拉,
格鲁吉亚,+0500,,第比利斯,
哈萨克斯坦东部,+0500,,阿拉木图、卡拉干达,
哈萨克斯坦西部,+0400,,阿克纠宾斯克,
韩国,+0900,,汉城,
吉尔吉斯斯坦,+0500,,比什凯克,
柬埔寨,+0700,,金边,
卡塔尔,+0300,,多哈,
科威特,+0300,,科威特市,
老挝,+0700,,万象,
黎巴嫩,+0200,03e03|10e03,贝鲁特,
马尔代夫,+0500,,马累,
马来西亚,+0800,,吉隆坡,
蒙古,+0800,03e03|09e03,乌兰巴托,
孟加拉国,+0600,,达卡,
缅甸,+0630,,仰光,
尼泊尔,+0545,,加德满都,
日本,+0900,,东京、大阪、札幌,
塞浦路斯,+0200,,尼科西亚,
沙特阿拉伯,+0300,,利雅得,
斯里兰卡,+0530,,科伦坡,
塔吉克斯坦,+0500,,杜尚别,
泰国,+0700,,曼谷,
土耳其,+0200,,伊斯坦布尔,
土库曼斯坦,+0500,,阿什哈巴德,
文莱,+0800,,斯里巴加湾,
乌兹别克斯坦,+0500,,塔什干,
锡金,+0530,,甘托克,
新加坡,+0800,,新加坡,
叙利亚,+0200,04a13|10a13,大马士革,(原来没有a,这里暂补)
亚美尼亚,+0400,,埃里温,
也门,+0300,,萨那,
伊拉克,+0300,04a13|10a13,巴格达,(原来没有a,这里暂补)
伊朗,+0330,04a13|10a13,德黑兰,(原来没有a,这里暂补)
以色列,+0200,04a53|09a53,特拉维夫、耶路撒冷,
印度,+0530,,新德里、孟买、加尔各答,
印度尼西亚,+0700,,雅加达,
约旦,+0200,,安曼,
越南,+0700,,河内,


[欧洲]
阿尔巴尼亚,+0100,,地拉那,
爱尔兰,+0000,03e01|10e01,都柏林,
爱沙尼亚,+0200,,塔林,
安道尔,+0000,,安道尔城,
奥地利,+0100,03e01|10e01,维也纳,
白俄罗斯,+0200,03e03|10e03,明斯克,
保加利亚,+0200,,索非亚,
比利时,+0100,03e01|10e01,布鲁塞尔,
冰岛,+0000,,雷克雅未克,
波黑,+0100,,萨拉热窝,
波兰,+0100,,华沙,
丹麦,+0100,04a03|10e03,哥本哈根,
德国,+0100,03e01|10e01,柏林,
俄罗斯东二区,+0200,03e03|10e03,莫斯科,
俄罗斯东三区,+0300,03e03|10e03,伏尔加格勒,
俄罗斯东四区,+0400,03e03|10e03,叶卡捷琳堡,
法国,+0100,03e01|10e01,巴黎,
梵蒂冈,+0100,,梵蒂冈,
芬兰,+0200,03e01|10e01,赫尔辛基,
荷兰,+0100,03e01|10e01,阿姆斯特丹,
捷克,+0100,,布拉格,
克罗地亚,+0100,,萨格勒布,
拉脱维亚,+0200,,里加,
立陶宛,+0200,,维尔纽斯,
列支敦士登,+0100,,瓦杜兹,
卢森堡,+0100,03e01|10e01,卢森堡市,
罗马尼亚,+0200,,布加勒斯特,
马耳他,+0100,,瓦莱塔,
马其顿,+0100,,斯科普里,
摩尔多瓦,+0200,,基什尼奥夫,
摩纳哥,+0100,,摩纳哥市,
挪威,+0100,,奥斯陆,
葡萄牙,+0000,03e01|10e01,里斯本,
瑞典,+0100,03e01|10e01,斯德哥尔摩,
瑞士,+0100,,苏黎世,
塞尔维亚和黑山,+0100,,贝尔格莱德,
圣马力诺,+0100,,圣马力诺,
斯洛伐克,+0100,,布拉迪斯拉发,
斯洛文尼亚,+0100,,卢布尔雅那,
乌克兰东部,+0300,,辛菲罗波尔,
乌克兰西部,+0200,,基辅,
西班牙,+0100,03e01|10e01,马德里,
希腊,+0200,03e01|10e01,雅典,
匈牙利,+0100,,布达佩斯,
意大利,+0100,03e01|10e01,罗马,
英国,+0000,03e01|10e01,伦敦、爱丁堡,

[北美洲]
格陵兰(丹),-0300,,努克(戈特霍布),
加拿大大西洋时区,-0400,04a02|10e02,哈利法克斯,
加拿大东部时区,-0500,04a02|10e02,渥太华、蒙特利尔,
加拿大纽芬兰时区,-0330,04a02|10e02,纽芬兰、圣约翰斯,
加拿大山区时区,-0700,04a02|10e02,艾伯塔,
加拿大太平洋时区,-0800,04a02|10e02,温哥华,
加拿大中央时区,-0600,04a02|10e02,温尼伯,
美国阿拉斯加,-0900,,朱诺、费尔班克斯,
美国东部,-0500,04a02|10e02,纽约,
美国山区,-0700,04a02|10e02,丹佛,
美国西岸,-0800,04a02|10e02,旧金山、洛杉矶,
美国中部,-0600,04a02|10e02,芝加哥,

[中南美洲]
阿根廷,-0300,,布宜诺斯艾利斯,
阿鲁巴岛(荷),-0400,,奥拉涅斯塔德,
安提瓜和巴布达,-0400,,圣约翰,
巴巴多斯,-0400,,布里奇敦,
巴哈马,-0500,,拿骚,
巴拉圭,-0300,10a03|02e03,亚松森,
巴拿马,-0500,,巴拿马市,
巴西东部,-0300,10a03|02e03,里约热内卢、巴西利亚,
巴西诺罗纳岛,-0200,10a03|02e03,诺罗纳岛,
巴西西部,-0500,10a03|02e03,阿克里州、亚马孙州,
巴西中部,-0400,10a03|02e03,库亚巴,
百慕大群岛(英),-0400,,哈密尔顿,
波多黎各(美),-0400,,圣胡安,
玻利维亚,-0400,,拉巴斯,
伯利兹,-0600,,贝尔莫潘,
多米尼加共和国,-0400,,圣多明各,
多米尼克国,-0400,,罗索,
厄瓜多尔,-0500,,基多,
法属圭亚那,-0300,,卡宴,
哥伦比亚,-0500,,波哥大,
哥斯达黎加,-0600,,圣何塞,
格林纳达,-0400,,圣乔治,
古巴,-0500,04a13|10e03,哈瓦那,(原来没有a,这里暂补)
瓜德罗普岛(法),-0400,,巴斯特尔,
圭亚那,-0300,,乔治敦,
海地,-0500,,太子港,
荷属安的列斯群岛,-0400,,威廉斯塔德,
洪都拉斯,-0600,,特古西加尔巴,
开曼群岛(英),-0500,,乔治敦,
马尔维纳斯(福克兰)群岛,-0300,09a03|04a03,斯坦利港,
马提尼克岛(法),-0400,,法兰西堡,
美属维尔京群岛,-0400,,夏洛特阿马利亚,
秘鲁,-0500,,利马,
墨西哥东部,-0600,,墨西哥城,
墨西哥西部,-0800,,蒂华纳,
墨西哥中部,-0700,,马萨特兰,
尼加拉瓜,-0500,,马拉瓜,
萨尔瓦多,-0600,,圣萨尔瓦多,
圣基茨和尼维斯,-0400,,巴斯特尔,
圣卢西亚,-0400,,卡斯特里,
圣文森特和格林纳丁斯,-0400,,金斯敦,
苏里南,-0300,,帕拉马里博,
特立尼达和多巴哥,-0400,,西班牙港,
危地马拉,-0600,,危地马拉城,
委内瑞拉,-0400,,加拉加斯,
乌拉圭,-0300,,蒙得维的亚,
牙买加,-0500,,金斯敦,
英属维尔京群岛,-0400,,罗德城,
智利,-0400,10a03|03a03,圣地亚哥,
智利帕斯库阿岛,-0500,10a03|03a03,汉加罗亚,

[非洲]
阿尔及利亚,+0100,,阿尔及尔,
埃及,+0200,04e53|09e43,开罗,
埃塞俄比亚,+0300,,亚的斯亚贝巴,
安哥拉,+0100,,罗安达,
贝宁,+0100,,波多诺伏,
博茨瓦纳,+0200,,哈博罗内,
布基纳法索,+0000,,瓦加杜古,
布隆迪,+0200,,布琼布拉,
赤道几内亚,+0100,,马拉博,
多哥,+0000,,洛美,
厄立特里亚,+0300,,阿斯马拉,
佛得角,-0100,,普拉亚,
冈比亚,+0000,,班珠尔,
刚果,+0100,,布拉柴维尔,
刚果(金),+0100,,金沙萨,
吉布提,+0300,,吉布提市,
几内亚,+0000,,科纳克里,
几内亚比绍,+0000,,比绍,
加纳,+0000,,阿克拉,
加蓬,+0100,,利伯维尔,
津巴布韦,+0200,,哈拉雷,
喀麦隆,+0100,,雅温德,
科摩罗,+0300,,莫罗尼,
科特迪瓦,+0000,,亚穆苏克罗,
肯尼亚,+0300,,内罗毕,
莱索托,+0200,,马赛卢,
利比里亚,+0000,,蒙罗维亚,
利比亚,+0200,,的黎波里,
卢旺达,+0200,,基加利,
马达加斯加,+0300,,塔那那利佛,
马拉维,+0200,,利隆圭,
马里,+0000,,巴马科,
毛里求斯,+0400,,路易港,
毛里塔尼亚,+0000,,努瓦克肖特,
摩洛哥,+0000,,拉巴特,
莫桑比克,+0200,,马普托,
纳米比亚,+0200,09a03|04a03,温得和克,
南非,+0200,,比勒陀利亚、约翰内斯堡,
尼日尔,+0100,,尼亚美,
尼日利亚,+0100,,阿布贾、拉各斯,
塞拉利昂,+0000,,弗里敦,
塞内加尔,+0000,,达喀尔,
塞舌尔,+0400,,维多利亚,
圣多美和普林西比,+0000,,圣多美,
斯威士兰,+0200,,姆巴巴内,
苏丹,+0200,,喀土穆,
索马里,+0300,,摩加迪沙,
坦桑尼亚,+0300,,达累斯萨拉姆,
突尼斯,+0100,,突尼斯,
乌干达,+0300,,坎帕拉,
西撒哈拉,+0000,,阿尤恩,
赞比亚,+0200,,卢萨卡,
乍得,+0100,,恩贾梅纳,
中非共和国,+0100,,班吉,

[大洋洲]
埃尼威托克岛,-1200,,埃尼威托克岛,
澳大利亚东部,+1000,10e03|03e03,堪培拉、悉尼、布里斯班,
澳大利亚西部,+0800,10e03|03e03,珀斯,
澳大利亚中部,+0930,10e03|03e03,阿德莱德、达尔文,
巴布亚新几内亚,+1000,,莫尔兹比港,
北马里亚纳群岛(美),+1000,,塞班,
法属波利尼西亚,-1000,,帕皮提,
斐济,+1200,11a03|02e03,苏瓦,
关岛(美),+1000,,阿加尼亚,
基里巴斯,+1200,,塔拉瓦,
库克群岛(新),-1030,,阿瓦鲁阿,
马里亚纳群岛,+1000,,塞班岛,
马绍尔群岛,+1200,,马朱罗,
美属萨摩亚,-1100,,帕果帕果,
密克罗尼西亚,+1000,,帕利基尔,
瑙鲁共和国,+1200,,亚伦,
所罗门群岛,+1100,,霍尼亚拉,
汤加,+1300,10a63|04a63,努库阿洛法,
图瓦卢,+1200,,富纳富提,
瓦努阿图,+1100,,维拉港,
西萨摩亚,-1100,,阿皮亚,
夏威夷(美),-1000,,檀香山,
新喀里多尼亚(法),+1100,,努美阿,
新西兰,+1200,10a03|04a63,奥克兰、惠灵顿,
新西兰查塔姆群岛,+1245,10a03|04a63,查塔姆群岛,
中途岛(美),-1100,,中途岛,
国际日期变更线（东）,-1200,,国际日期变更线（东）,
国际日期变更线（西）,+1200,,国际日期变更线（西）
</textarea><br>
<textarea id=bb cols=80 rows=15>
</textarea>
